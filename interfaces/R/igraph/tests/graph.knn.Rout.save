
R version 2.11.1 (2010-05-31)
Copyright (C) 2010 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library(igraph)
> 
> set.seed(42)
> 
> ## Some trivial ones
> g <- graph.ring(10)
> graph.knn(g)
$knn
 [1] 2 2 2 2 2 2 2 2 2 2

$knnk
[1] NaN   2

> g2 <- graph.star(10)
> graph.knn(g2)
$knn
 [1] 1 9 9 9 9 9 9 9 9 9

$knnk
[1]   9 NaN NaN NaN NaN NaN NaN NaN   1

> 
> ## A scale-free one, try to plot 'knnk'
> g3 <- simplify(ba.game(1000, m=5))
> graph.knn(g3)
$knn
   [1]  13.92758  14.66379  14.71010  16.11032  17.74874  14.41154  18.16092
   [8]  16.82967  26.23077  19.09924  18.78000  67.15000  29.79688  22.38636
  [15]  52.03846 144.60000  25.22093 122.54545  18.20482  97.61538  31.10169
  [22]  68.86957  51.18182  80.40000 128.00000  20.27778  89.85714  24.02000
  [29]  93.50000 203.20000 143.28571  29.82051  27.00000 142.85714 154.85714
  [36]  49.00000  99.60000  92.84615 101.72727  62.96000 235.60000  29.38889
  [43]  46.00000  18.85294  91.18750  44.62963 198.80000  52.75000 108.16667
  [50] 123.16667 186.83333  60.87500 113.90909  37.64286 183.71429 147.62500
  [57] 162.12500  81.41667  44.00000  30.17647  23.62069 139.00000  91.23077
  [64] 135.45455 164.33333  30.57143  49.57692 166.57143  49.53571  32.45000
  [71]  33.07317  18.08108 141.71429 101.27273 100.07692 102.28571 227.40000
  [78]  36.95652  66.54545 134.14286 143.57143  61.05263 177.00000 226.40000
  [85]  59.25000 122.57143  59.37500 152.00000 123.88889 133.77778  47.06667
  [92]  93.20000  81.75000 125.90909 136.50000 115.11111 128.71429  84.88889
  [99] 137.11111 156.50000 158.20000  85.00000 117.85714 188.42857 114.00000
 [106] 103.92308 194.50000  85.00000 150.14286 130.37500  55.90000  34.96875
 [113]  31.40000 125.50000  66.33333  49.52381  91.69231 107.42857  45.15152
 [120]  35.42308  75.26667 140.00000 104.62500  35.68750  38.35714 225.40000
 [127] 150.50000  48.15789 150.80000 133.62500 168.66667 177.00000 136.44444
 [134]  76.77778  33.32258 113.80000  94.50000 244.00000 135.80000  61.00000
 [141] 195.16667  86.21429  33.11111  91.88889  79.16667  61.44444 126.80000
 [148] 127.14286  47.25000 110.00000  78.40000  94.75000  64.81818  76.88889
 [155]  44.55556  78.54545 167.00000 154.00000  74.00000  61.09091 138.00000
 [162]  71.66667 152.40000 106.72727 108.28571  90.23077  79.57143 221.60000
 [169]  58.90909  84.09091  64.34783 157.37500 156.00000  92.88889  77.00000
 [176] 109.10000  86.22222  68.44444 111.00000 197.20000  79.00000  65.66667
 [183]  28.83333 150.71429 191.20000  70.00000 145.11111  65.60000 118.00000
 [190] 158.20000  38.92857 130.62500  49.20000 218.20000 198.00000 127.00000
 [197] 172.00000  40.70000 154.14286 185.80000 194.40000 208.80000 156.20000
 [204] 108.11111 155.20000 101.66667  58.72727 159.00000  54.00000  89.80000
 [211] 228.00000 139.00000 183.16667 111.85714  66.33333 119.66667 126.62500
 [218]  98.75000 226.20000  90.50000  96.22222 162.14286  69.00000 153.00000
 [225]  55.53846 114.33333  83.81818  66.14286 135.80000  80.30000  79.20000
 [232]  84.66667 143.50000 198.60000  67.57143 216.50000 102.60000  99.71429
 [239] 175.00000 145.71429 127.83333 114.00000 144.83333  99.00000  39.52941
 [246]  84.81818 169.80000  86.20000  75.75000  97.20000 109.42857 108.80000
 [253] 131.80000  68.08333  60.55556  86.16667 130.00000  96.66667  76.87500
 [260]  67.00000 129.00000  74.27273 205.66667  95.33333  91.54545 148.60000
 [267]  92.22222  49.83333 170.20000 135.40000  49.90000  44.40000  52.33333
 [274] 131.16667  54.54545 127.00000 202.20000 207.00000 102.66667 227.40000
 [281]  97.28571  93.90000 151.83333 188.50000 194.20000 157.50000 173.16667
 [288] 130.50000 197.28571  96.62500  89.60000  93.33333  73.00000 168.00000
 [295]  92.16667  58.00000 152.60000 216.80000 122.00000 133.37500  64.18182
 [302]  70.85714  84.11111 124.14286 187.60000 125.40000 164.40000 117.75000
 [309]  82.80000 145.20000  65.00000  69.60000  57.46667  81.62500  36.23810
 [316]  38.57143  63.87500 142.20000 146.83333 124.20000  87.18182 144.57143
 [323] 111.00000  93.87500 205.83333 181.60000 101.20000 128.80000 113.66667
 [330]  29.60000  67.27273  86.90000 208.60000 112.16667 174.00000  84.16667
 [337] 173.33333  63.16667  65.20000 153.50000 205.40000 101.90000 128.62500
 [344] 126.14286 115.70000 136.80000 147.50000 170.40000  99.80000 161.00000
 [351]  70.14286 116.83333  89.00000 125.62500 149.66667 120.28571  98.28571
 [358] 155.33333 136.83333  78.18182  34.80000  93.33333 132.57143  69.81818
 [365]  61.33333 149.57143  95.00000 138.40000 112.00000 165.00000  93.20000
 [372] 156.20000 119.66667  80.80000 137.80000  22.50000  67.00000  74.33333
 [379]  40.16667  48.75000  92.60000 246.50000 112.11111 130.50000 154.40000
 [386] 223.20000  99.20000 136.00000  77.42857  80.50000  85.00000 134.80000
 [393] 142.20000 131.20000 240.40000 113.14286  28.80000 182.16667  61.57143
 [400] 128.88889 119.33333  33.00000  89.00000  72.40000  74.20000 205.60000
 [407]  29.85714 113.80000  59.11111  76.60000 134.16667  40.55556 208.57143
 [414] 212.00000  61.62500 101.00000  70.42857 144.80000  77.71429 116.80000
 [421]  33.16667 126.00000 232.60000 199.33333 155.20000 107.71429  80.00000
 [428]  67.00000  15.16667 123.83333  63.44444 127.71429 190.80000  65.60000
 [435] 113.16667  92.80000 171.20000 131.42857 103.20000 132.00000 192.80000
 [442] 187.40000 115.33333 110.33333  52.66667 139.00000 128.12500 138.40000
 [449] 104.57143 137.20000  73.80000 123.60000  42.87500  25.71429 133.71429
 [456] 109.80000 107.37500  96.83333  79.40000 123.40000 114.85714  38.00000
 [463]  63.28571  56.60000 206.60000  85.14286  63.00000  14.40000  14.00000
 [470] 208.40000  70.50000  22.00000 192.83333 146.00000  74.16667 112.16667
 [477]  76.60000  84.80000 187.60000 152.57143 186.80000 180.57143  25.80000
 [484]  38.80000 191.20000  17.63636 147.00000  52.20000  82.16667  94.00000
 [491]  81.33333 146.40000 122.80000  55.20000  91.33333 185.66667  92.83333
 [498]  58.71429 107.60000  85.66667  46.57143 164.00000 116.00000 222.60000
 [505]  13.20000 120.42857  96.66667 141.20000 128.20000 132.00000 162.60000
 [512] 156.00000 138.14286 116.60000  93.12500 205.20000  60.00000  34.66667
 [519] 159.80000  85.20000 119.83333 144.16667  52.00000  48.40000 107.00000
 [526] 120.00000 117.60000  69.85714 105.60000 229.20000  96.60000 180.20000
 [533] 174.60000  42.16667  91.25000  96.00000 145.60000  71.83333 161.16667
 [540] 154.00000 198.20000  57.60000  79.16667 135.20000 173.28571  92.71429
 [547]  99.60000 118.40000 176.40000  71.71429 100.85714 178.20000  94.66667
 [554]  72.57143 147.00000  76.80000  85.66667 152.00000  99.83333  48.71429
 [561] 210.60000 133.33333 121.60000 117.66667 106.33333 204.80000  95.60000
 [568] 205.66667 104.00000 146.40000  73.80000 150.00000  89.00000  27.62500
 [575] 127.00000 148.20000  53.50000 132.80000 115.20000  25.60000  38.33333
 [582] 196.40000 116.20000 187.20000 175.00000  30.20000 121.40000 117.40000
 [589] 130.00000 121.20000 174.20000 136.33333  70.60000 195.60000 128.83333
 [596] 179.40000  91.28571 129.40000  85.25000 171.60000 101.85714 123.00000
 [603]  32.60000  26.80000 112.20000 100.71429 125.80000  90.85714  68.83333
 [610] 145.14286  58.00000 178.20000  86.40000 103.12500  59.14286  77.16667
 [617]  98.14286 206.60000 138.00000 186.80000  95.20000  90.20000 100.87500
 [624] 204.60000  70.00000 174.83333 154.00000 166.40000 126.20000 147.60000
 [631]  56.00000 130.40000  58.42857  85.80000 118.71429  48.50000  61.00000
 [638] 158.00000 160.16667 164.80000 210.40000 153.60000  65.60000 160.40000
 [645] 188.33333 200.40000 147.60000 138.40000 106.16667  40.80000 129.80000
 [652] 118.66667 140.66667 136.60000 137.16667 138.00000  71.00000 164.20000
 [659]  71.66667  31.88889  91.83333  96.60000 122.00000  67.33333  86.80000
 [666]  91.16667 144.80000 197.40000  63.83333  56.00000  23.60000  48.42857
 [673]  66.60000 171.40000 108.00000  32.83333 131.40000 124.40000 185.50000
 [680]  43.00000  51.00000  92.40000  79.00000  15.40000  61.00000 125.80000
 [687] 145.00000  86.40000  59.57143 102.40000 244.20000  96.80000 158.80000
 [694] 135.20000  74.20000 142.40000  85.00000 123.40000 152.42857 197.00000
 [701] 110.60000  43.87500 185.80000 110.00000 130.60000 152.20000 140.40000
 [708] 181.40000 125.80000 108.80000  67.80000 128.20000 135.40000  62.20000
 [715] 239.00000 147.40000 152.60000 116.60000  47.20000 118.80000 142.00000
 [722]  74.77778 166.00000  92.80000 164.60000 131.00000 117.00000 177.20000
 [729]  32.00000  59.66667 157.20000  67.50000 189.20000 209.00000 118.20000
 [736] 126.80000 149.00000 145.00000  53.00000 126.60000 111.20000  97.60000
 [743]  84.00000  75.40000  94.80000 130.60000  84.00000 104.20000  80.80000
 [750]  38.00000  65.00000  82.20000 166.83333 113.80000  44.71429 115.85714
 [757] 125.60000  60.00000  86.60000 103.20000 162.80000 111.80000 148.20000
 [764] 104.20000 104.80000 193.20000  88.60000 170.20000 143.20000 181.20000
 [771] 103.20000 128.20000 257.00000  26.42857 150.00000 144.00000 103.16667
 [778]  79.20000 141.20000 147.00000 119.33333 134.80000 102.80000 192.60000
 [785] 135.80000  77.40000 111.60000 112.60000 110.00000  91.80000  61.20000
 [792]  98.60000  57.16667  60.80000  54.60000 130.60000 136.40000 221.80000
 [799]  98.20000 139.00000  98.80000  82.80000  76.80000 131.83333 126.16667
 [806]  71.00000 105.20000 203.00000 139.40000  73.20000 107.00000 143.20000
 [813]   8.20000 110.00000 159.40000  30.00000  27.00000  96.60000 164.80000
 [820] 164.20000 112.60000  10.20000 129.80000 181.60000 229.40000  67.60000
 [827] 100.00000  98.60000 156.00000 117.66667  87.50000  98.40000  59.00000
 [834] 131.80000 155.20000  55.00000  71.20000  77.00000  73.20000 207.60000
 [841]  89.80000  33.20000  63.00000  19.80000 160.20000 164.60000 116.20000
 [848] 158.80000  67.20000 136.80000 186.00000 129.20000 182.60000 195.60000
 [855] 164.60000 107.60000  86.40000  49.20000 153.40000  55.40000 108.60000
 [862]  44.57143 241.00000 149.40000  24.40000  26.00000 146.83333  26.40000
 [869]  39.00000  81.60000 138.20000  80.60000 152.60000 147.66667 151.80000
 [876]  84.00000  51.80000 118.20000  97.20000 105.00000  87.80000 114.60000
 [883] 191.83333 145.00000  84.83333  67.66667  44.00000 184.40000 145.80000
 [890] 117.20000  79.83333 191.20000  63.00000 112.80000  95.20000  72.40000
 [897]  56.40000  81.60000 160.83333  93.80000 243.60000 109.40000  23.20000
 [904] 132.20000  36.00000 115.60000 141.40000 240.80000  82.00000  94.80000
 [911]  94.40000 160.80000 211.80000 181.80000 133.00000  79.40000 207.40000
 [918]  72.00000 144.20000 134.20000  96.40000 175.80000  66.60000 117.40000
 [925] 170.00000 103.60000 101.20000  78.50000 114.20000 144.40000 119.40000
 [932]  98.40000  62.60000 111.80000  39.00000 170.80000 134.00000  18.00000
 [939]  36.40000 119.20000  78.60000 106.20000 171.20000  98.40000  43.60000
 [946] 111.60000  58.40000  99.00000 157.20000  63.60000  87.60000 148.60000
 [953] 155.60000  21.80000 146.60000  42.00000 135.40000 134.00000 123.80000
 [960] 174.00000  75.40000 140.40000  68.80000 127.20000 127.40000  53.20000
 [967] 123.60000 114.00000  86.00000  67.40000 124.20000  66.20000  73.80000
 [974] 149.00000   8.40000  78.20000  89.00000  24.60000  57.60000 166.00000
 [981]  34.40000  90.80000  32.60000 156.60000  77.80000 119.60000  56.40000
 [988]  11.20000 112.40000 102.00000 151.40000 238.60000   9.20000 168.20000
 [995]  26.20000  93.80000 139.00000 108.40000 197.00000 192.40000

$knnk
  [1]       NaN       NaN       NaN       NaN 124.21181 114.26605 106.58763
  [8] 104.83125  91.60000  87.16087  82.50168  78.63636  90.39423  59.91667
 [15]  64.76000  57.28125  39.52941  46.11111  54.60526  60.00000  43.92063
 [22]  51.18182  56.72464  52.90625  47.18000  45.67949  46.81481  43.58929
 [29]       NaN  27.00000  33.32258  34.96875  45.15152  30.17647       NaN
 [36]  29.38889  18.08108       NaN  29.82051       NaN  33.07317       NaN
 [43]       NaN       NaN       NaN       NaN       NaN       NaN  30.57143
 [50]  24.02000       NaN       NaN       NaN       NaN       NaN       NaN
 [57]       NaN  23.62069  31.10169       NaN       NaN       NaN       NaN
 [64]  29.79688       NaN       NaN       NaN  18.85294       NaN       NaN
 [71]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
 [78]       NaN       NaN       NaN       NaN       NaN  18.20482       NaN
 [85]       NaN  25.22093       NaN  22.38636       NaN  20.27778  26.23077
 [92]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
 [99]       NaN  18.78000       NaN       NaN       NaN       NaN       NaN
[106]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[113]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[120]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[127]       NaN       NaN       NaN       NaN  19.09924       NaN       NaN
[134]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[141]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[148]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[155]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[162]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[169]       NaN       NaN       NaN       NaN       NaN  18.16092       NaN
[176]       NaN       NaN       NaN       NaN       NaN       NaN  16.82967
[183]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[190]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[197]       NaN       NaN  17.74874       NaN       NaN       NaN       NaN
[204]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[211]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[218]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[225]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[232]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[239]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[246]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[253]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[260]  14.41154       NaN       NaN       NaN       NaN       NaN       NaN
[267]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[274]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[281]  16.11032       NaN       NaN       NaN       NaN       NaN       NaN
[288]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[295]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[302]       NaN       NaN       NaN       NaN       NaN  14.71010       NaN
[309]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[316]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[323]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[330]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[337]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[344]       NaN       NaN       NaN       NaN  14.66379       NaN       NaN
[351]       NaN       NaN       NaN       NaN       NaN       NaN       NaN
[358]       NaN  13.92758

> 
> ## A random graph
> g4 <- random.graph.game(1000, p=5/1000)
> graph.knn(g4)
$knn
   [1]  7.333333  6.000000  6.500000  6.000000  7.000000  5.250000  6.857143
   [8]  6.666667  6.000000  7.833333  6.750000  7.500000       NaN  5.666667
  [15]  6.500000  6.166667  4.800000  6.285714  6.625000  6.000000  6.166667
  [22]  8.000000  7.000000  6.500000  6.500000  6.500000  5.250000  5.000000
  [29]  6.500000  6.666667  3.600000  5.600000  7.333333  7.000000  5.000000
  [36]  6.625000  5.500000       NaN  9.000000  6.666667  5.714286  7.000000
  [43]  4.333333  6.750000  4.750000  6.857143  4.888889  8.800000  6.000000
  [50]  5.250000  5.400000  6.666667  4.500000  5.000000  6.000000  7.000000
  [57]  7.000000  6.666667  6.000000  4.333333  5.833333  6.000000  7.166667
  [64]  6.111111  4.666667  6.250000  7.000000  5.600000  5.833333  7.000000
  [71]  6.000000  5.625000  6.285714  8.000000  6.000000  7.750000  4.571429
  [78]  6.000000  4.700000  6.000000  6.857143  6.600000  5.000000  5.000000
  [85]  6.250000  5.500000  5.500000  6.285714  5.333333  6.142857  6.000000
  [92]  5.666667  4.666667  6.500000  5.750000  8.750000  6.250000  5.666667
  [99]  5.000000  7.333333  6.444444  7.666667  5.750000  6.000000  6.000000
 [106]  5.428571  5.666667  6.000000  6.500000  4.375000  4.666667  7.000000
 [113]  6.000000  5.800000  6.166667  6.000000  5.200000  7.600000  7.000000
 [120]  5.800000  4.250000  4.000000  5.666667  5.666667  6.285714  7.142857
 [127]  7.600000  4.400000  6.583333  6.000000  6.600000  5.428571  5.000000
 [134]  6.000000  7.600000  6.125000  6.200000  5.000000  5.800000  6.200000
 [141]  6.000000  7.000000  6.571429  6.000000  6.571429  7.500000  7.428571
 [148]  6.600000  7.000000  5.600000  6.625000  6.666667  6.666667  6.500000
 [155]  6.000000  8.333333  5.500000  6.500000  7.750000  5.000000  3.666667
 [162]  6.166667  7.200000  5.625000  5.666667  7.333333  6.333333  6.100000
 [169]  6.250000  5.250000  7.000000  7.333333  5.888889  5.000000  7.250000
 [176]  4.571429  6.000000 10.000000  3.500000  5.250000  4.833333  9.000000
 [183]  7.000000  5.600000  5.800000  7.000000  5.000000  4.500000  6.833333
 [190]  6.714286  5.000000  6.000000  5.600000  6.333333  5.400000  5.200000
 [197]  5.666667  5.250000  6.000000  5.000000  6.416667  7.600000  6.166667
 [204]  6.250000  7.000000  4.500000  4.000000  5.750000  5.666667  7.000000
 [211]  6.000000  5.750000  7.800000  6.333333  6.142857  4.000000  5.000000
 [218]  5.750000  6.750000  6.000000  6.375000  5.500000  6.500000  5.750000
 [225]  6.714286  7.666667  5.166667  5.833333  5.000000  5.666667  6.000000
 [232]  7.250000  6.000000  4.750000  6.111111  7.750000  6.142857  4.875000
 [239]  6.400000  4.333333  6.400000  4.500000  5.500000  5.500000  4.500000
 [246]  6.800000  6.000000  5.428571  5.000000  5.800000  6.000000  6.000000
 [253]  5.800000  5.000000  6.600000  5.666667  5.000000  5.800000  6.250000
 [260]  5.666667  6.750000  5.250000  6.666667  5.166667  5.600000  4.000000
 [267]  8.250000  5.125000  4.750000  6.200000  6.400000  9.500000  7.000000
 [274]  4.333333  6.000000  5.000000  7.000000  6.250000  6.000000  6.428571
 [281]  6.500000  4.500000  6.400000  2.500000  7.000000  6.500000  4.750000
 [288]  5.750000  5.000000  5.800000  5.400000  5.500000  6.000000  5.800000
 [295]  5.714286  4.600000  6.666667  7.000000  5.500000  5.625000  4.750000
 [302]  4.833333  5.000000  8.000000  6.666667  6.200000  8.833333  4.500000
 [309]  5.166667  6.000000  7.666667  4.000000  6.200000  4.400000  6.000000
 [316]  4.500000  5.666667  6.222222  5.666667  5.571429  6.333333  6.300000
 [323]  7.000000  4.500000  6.000000  4.571429  5.400000  7.600000  4.500000
 [330]  3.500000  8.666667  5.500000  6.600000  7.545455  7.375000  6.333333
 [337] 10.000000  5.266667  6.500000  6.428571  8.000000  4.000000  4.857143
 [344]  8.666667  6.142857  4.666667  6.000000  6.000000  8.000000  4.750000
 [351]  5.000000  6.000000  7.200000  6.166667  4.714286  6.333333  5.666667
 [358]  6.888889       NaN  8.750000  5.666667  5.600000  6.500000  4.000000
 [365]  7.428571  7.400000  7.000000  5.571429  4.166667  6.666667  5.250000
 [372]  9.000000  4.400000  6.000000  5.000000  6.500000  5.500000  5.500000
 [379]  4.714286  5.250000  5.857143  6.000000  4.333333  4.600000  5.800000
 [386]  5.500000  5.000000  7.285714  5.857143  5.000000  5.777778  5.000000
 [393]  5.166667  5.500000  5.200000  3.500000  7.000000  4.000000  4.400000
 [400]  7.000000  5.200000  4.666667  4.333333  7.000000  6.000000  7.600000
 [407]  6.200000  6.000000  7.000000  5.250000  6.500000  5.333333  5.333333
 [414]  6.500000  5.000000  5.200000  7.000000  6.142857  4.333333  6.714286
 [421]  7.222222  6.000000  9.000000  5.400000  5.142857  6.500000  5.600000
 [428]  7.000000  8.000000  6.625000  6.000000  5.800000  4.600000  5.333333
 [435]  7.750000  5.000000  7.600000  6.500000  5.500000  5.750000  7.000000
 [442]  4.666667  8.000000  9.500000  6.000000  5.000000  5.800000       NaN
 [449]  5.571429  7.000000  6.000000  5.636364  7.000000  6.714286  5.111111
 [456]  8.000000  6.800000  6.500000  5.800000  3.500000  5.000000  5.500000
 [463]  6.000000  5.666667  5.428571  5.857143  6.222222  7.000000  5.000000
 [470]  5.333333  4.750000  5.875000  6.200000  5.000000  5.166667  6.166667
 [477]  7.000000  3.000000  6.250000  5.200000  5.600000  5.000000  5.200000
 [484]  3.500000  5.666667  6.000000  5.285714  4.000000  6.428571  6.000000
 [491]  7.000000  6.000000  7.000000  4.500000  8.666667  5.500000  6.250000
 [498]       NaN  7.666667  6.666667  5.833333  6.250000  6.000000  6.300000
 [505]  7.166667  6.600000  5.857143  5.000000  5.800000  7.000000  5.000000
 [512]  3.666667  5.142857  6.777778  4.600000  6.166667  6.750000  6.666667
 [519]  5.250000  4.500000  3.750000  4.500000  5.000000       NaN  7.000000
 [526]  6.666667  5.166667  7.000000  6.000000  6.666667  8.000000  6.833333
 [533]  6.285714  4.000000  3.500000  4.750000  6.833333  5.333333  5.000000
 [540]  6.250000  6.875000  6.500000  6.375000  5.000000  4.250000  5.750000
 [547]  4.500000  6.142857  8.142857  3.000000  5.000000  6.200000  7.000000
 [554]  5.166667  7.166667  6.000000  4.666667  5.800000  4.400000  5.500000
 [561]  5.250000  8.000000  4.500000  5.200000  5.800000  5.250000  6.750000
 [568]  6.500000  5.428571  8.000000  5.000000  7.000000  4.600000  4.666667
 [575]  7.000000  6.500000  5.333333  6.000000  5.166667  8.000000  5.333333
 [582]  6.000000  6.333333  6.000000  6.272727  6.000000  8.000000  7.333333
 [589]  5.571429  5.000000  6.666667  7.500000  5.750000  4.333333       NaN
 [596]  6.000000  5.333333  6.000000  6.166667  7.375000  6.333333  4.000000
 [603]  6.500000  2.500000  6.000000  5.666667  5.666667  5.833333  5.000000
 [610]  8.000000  8.000000  6.833333  7.000000  6.400000  5.400000  7.666667
 [617]  6.222222  6.000000  6.500000  7.000000  6.000000  5.000000  6.666667
 [624]  4.666667  7.142857  5.000000  6.750000  6.600000  6.875000  7.000000
 [631]  7.000000  5.000000  5.571429  5.000000  6.000000  6.750000  7.333333
 [638]  5.333333  6.166667  5.000000  5.142857  3.000000  6.000000  6.285714
 [645]  8.333333  6.714286  7.400000  7.333333  6.375000  7.000000  5.428571
 [652]  4.833333  6.500000  4.750000  5.000000  9.000000  7.000000  6.142857
 [659]  7.400000  3.500000  6.750000  6.000000  6.125000  5.750000  4.222222
 [666]  6.285714  6.750000  4.666667  5.875000  5.800000  9.000000  6.600000
 [673]  5.333333  6.400000  4.666667  8.200000  6.500000  7.000000  5.200000
 [680]  5.750000  5.666667  6.166667  5.333333  5.285714  3.666667  5.333333
 [687]  4.833333  7.333333  6.666667  4.333333  7.250000  5.666667  7.000000
 [694]  5.000000  4.285714  5.000000  4.250000  5.500000  4.400000  5.285714
 [701]  4.700000  6.750000  6.750000  6.307692  5.000000  5.428571  5.857143
 [708]  5.000000  5.333333  5.333333  7.500000  7.333333  6.000000  5.400000
 [715]  6.250000  6.200000  5.750000  7.500000  6.000000  6.000000  4.333333
 [722]  8.000000  6.200000  6.333333  7.400000  7.000000  7.666667  5.500000
 [729]  5.750000  5.666667  7.000000  7.375000  5.250000  6.666667  4.000000
 [736]  6.000000  7.500000  6.428571  5.111111  5.714286  6.500000  6.222222
 [743]  4.000000  6.222222  8.000000  4.666667  5.000000  4.000000  6.857143
 [750]  5.166667  6.500000  6.000000  5.000000  5.500000  4.750000  8.200000
 [757]  7.000000  5.857143  5.142857  8.500000  6.250000  6.100000  6.500000
 [764]  4.600000  4.800000  6.111111  6.750000  7.500000       NaN  5.166667
 [771]  6.000000  8.600000  7.333333  6.750000  5.625000  7.750000  6.428571
 [778] 10.500000  6.500000  6.750000  6.250000  6.333333  5.714286  4.500000
 [785]  6.400000  3.000000  6.000000  6.000000  5.000000  7.000000  5.333333
 [792]  6.000000  5.000000  6.400000  5.875000  5.400000  3.000000  6.500000
 [799]  4.666667  6.000000  4.000000  5.800000  6.571429  5.750000  6.200000
 [806]  4.250000  6.400000  5.750000  6.111111  5.666667  6.166667  4.000000
 [813]  7.500000  4.000000  5.666667  7.500000  5.300000  7.000000  5.545455
 [820]  4.666667  5.000000  7.333333  4.600000  5.666667  4.250000  5.166667
 [827]  5.833333  6.500000  6.500000  5.250000  6.600000  5.285714  6.250000
 [834]  5.666667  5.833333  5.000000  9.000000  6.600000  6.571429  4.600000
 [841]  8.000000  7.333333  6.166667  5.375000  5.166667  7.400000  5.666667
 [848]  7.000000  6.250000  7.666667  4.500000  5.000000  4.888889  7.125000
 [855]  5.666667  5.666667  5.333333  5.285714  6.200000  5.142857  5.250000
 [862]  6.000000  7.166667  4.333333  6.000000  5.000000  6.000000  5.500000
 [869]  5.571429  5.500000  6.000000  6.500000  6.600000  5.181818  5.444444
 [876]  4.333333  5.000000  6.666667  5.625000  6.333333  5.500000  6.750000
 [883]  5.400000  6.000000  6.142857  5.800000  6.000000  4.285714  4.666667
 [890]  7.000000  5.000000  6.111111  7.000000  4.500000  4.750000  5.333333
 [897]  6.000000  5.000000  5.500000  6.714286  5.000000  5.666667  7.666667
 [904]  5.857143  4.250000  5.166667  6.333333  6.200000  4.500000  5.666667
 [911]  6.400000  6.285714  6.666667  5.888889  6.333333  6.750000  6.000000
 [918]  4.000000  5.333333  6.333333  5.000000  5.200000  6.000000  6.000000
 [925]  6.000000  7.000000  7.000000  6.333333  6.333333  6.400000  6.500000
 [932]  5.857143  6.333333  4.000000  6.142857  6.600000  6.750000  6.666667
 [939]  5.428571  6.333333  7.333333  6.900000  6.909091  5.500000  5.714286
 [946]  6.500000  5.000000  7.333333  6.833333  5.800000  5.000000  6.166667
 [953]  6.000000  4.333333  7.000000  6.333333  6.166667  5.200000  8.250000
 [960]  6.666667  6.900000  6.600000  6.800000  4.800000  5.857143  6.600000
 [967]  8.250000  6.000000  6.500000  6.750000  5.666667  6.333333  5.750000
 [974]  5.500000  6.600000  6.571429  3.857143  7.000000  5.000000  6.000000
 [981]  6.625000  4.000000  5.000000  3.000000  7.000000  5.777778  6.000000
 [988]  6.777778  5.750000  5.000000  5.666667  8.000000  5.571429  7.166667
 [995]  6.000000  7.000000  8.500000  6.400000  5.250000  6.666667

$knnk
 [1] 6.097561 5.981707 6.029885 5.988032 6.057692 5.890380 5.840970 6.028846
 [9] 5.986772 5.860000 6.181818 6.333333 6.307692      NaN 5.266667

> 
> ## A weighted graph
> g5 <- graph.star(10)
> E(g5)$weight <- seq(ecount(g5))
> graph.knn(g5)
$knn
 [1]  1.000000 45.000000 22.500000 15.000000 11.250000  9.000000  7.500000
 [8]  6.428571  5.625000  5.000000

$knnk
[1] 14.14484      NaN      NaN      NaN      NaN      NaN      NaN      NaN
[9]  1.00000

> 
